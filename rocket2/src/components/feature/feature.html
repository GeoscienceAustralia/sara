<div class="content content__feature">
    <!-- Metadata -->
    <div style="margin-top:20px;" class="row fullWidth padded bglight show-for-large-up">
        <div class="medium-4 columns">
            <h5 ng-bind="'main' | translate"></h5>
            <span class="light">{{'collection' | uppercase}}</span> : <a ng-click="mainController.search('collection', featCtrl.feature.properties.collection)">
            {{featCtrl.feature.properties.collection}}</a><br/>
            <span class="light">{{'productIdentifier' | uppercase}}</span> :
            <span title="{{featCtrl.feature.properties.productIdentifier}}">
                {{featCtrl.feature.properties.productIdentifier | ellipsis}}</span><br/>
            <span class="light">{{'organisationName' | uppercase}}</span> : {{featCtrl.feature.properties.organisationName}}<br/>
            <span class="light">{{'published' | uppercase}}</span> : {{featCtrl.feature.properties.published}}<br/>
            <span ng-show="featCtrl.feature.properties.archive"><span class="light">{{'archive' | uppercase}}</span> :
                {{featCtrl.feature.properties.archive}}<br/></span>
        </div>
        <div class="medium-4 columns">
            <h5 ng-bind="'satellite' | translate"></h5>
            <span class="light">{{'platform' | translate | uppercase}}</span> :
            <a ng-click="mainController.search('platform', featCtrl.feature.properties.platform)">
                {{featCtrl.feature.properties.platform}}</a><br/>
            <span class="light">{{'instrument' | uppercase}}</span> :
            <a ng-click="mainController.search('instrument', featCtrl.feature.properties.instrument)">
                {{featCtrl.feature.properties.instrument}}</a><br/>
            <span class="light">{{'productType' | uppercase}}</span> :
            <a ng-click="mainController.search('productType', featCtrl.feature.properties.productType)">
                {{featCtrl.feature.properties.productType}}</a><br/>
            <span class="light">{{'processingLevel' | uppercase}}</span> :
            <a ng-click="mainController.search('processingLevel', featCtrl.feature.properties.processingLevel)">
                {{featCtrl.feature.properties.processingLevel}}</a><br/>
            <span class="light">{{'sensorMode' | uppercase}}</span> :
            <a ng-click="mainController.search('sensorMode', featCtrl.feature.properties.sensorMode)">
                {{featCtrl.feature.properties.sensorMode}}</a><br/>
        </div>
        <div class="medium-4 columns">
            <h5 ng-bind="'characteristics' | translate"></h5>
            <span class="light">{{'startDate' | uppercase}}</span> :
            <a ng-click="mainController.search('q', featCtrl.feature.properties.startDate.substring(0, 10))">
                {{featCtrl.feature.properties.startDate}}</a><br/>
            <span class="light">{{'resolution' | uppercase}}</span> :
            {{featCtrl.feature.properties.resolution}} m<br/>
            <span class="light">{{'snowCover' | uppercase}}</span> :
            {{featCtrl.feature.properties.snowCover}} %<br/>
            <span class="light">{{'cloudCover' | uppercase}}</span> :
            {{featCtrl.feature.properties.cloudCover}} %<br/>
            <span class="light">{{'waterCover' | uppercase}}</span> :
            {{featCtrl.feature.properties.waterCover}} %<br/>
            <span class="light">{{'orbitNumber' | uppercase}}</span> :
            {{featCtrl.feature.properties.orbitNumber}}<br/>
        </div>
    </div>
    <div id="leftColumn" class="small-12 medium-12 large-6 columns">
        <div class="center">
            <h2><a class="dark" ng-click="mainController.search('collection', featCtrl.feature.properties.collection)">
                {{featCtrl.feature.properties.collection}}</a></h2>
            <h4>{{featCtrl.feature.properties.keywords | extractlocation}}</h4>
            <h5>{{featCtrl.feature.properties.startDate | nicedate}}</h5>
            <p>
                <a ng-if="mainController.isAuthenticated()" title="{{'feature.download' | translate}}"
                   href="" class="fa fa-3x fa-cloud-download padded-small"  ng-click="mainController.download(featCtrl.feature, $event)"></a>
                <a ng-if="mainController.isAuthenticated()" title="{{'feature.addToCart' | translate}}"
                   href="" class="fa fa-3x fa-cart-plus padded-small"
                   ng-click="mainController.addToCart(featCtrl.feature, $event)"></a>
            </p>
        </div>
        <div class="center padded-top show-for-large-up">
            <!-- Collection description -->
            <div class="row fullWidth">
                <div class="large-12 columns center collection-description">
                    <!--<h4><a ng-click="mainController.search('collection', collection['Name'])">{{collection.description['ShortName']}}</a></h4>-->
                    <h4></h4>
                    <p class="justified">{{featCtrl.collection.description['Description']}}</p>
                </div>
            </div>
        </div>
        <!-- Map -->
        <div class="row fullWidth">
            <div class="large-12 columns padded-top padded-bottom">
                <div id="feature-staticmap" style="width:100%;height:450px;"></div>
            </div>
        </div>
        <div class="center" style="margin-bottom:20px;">
            <img style="max-width: 40vw;" ng-src="{{featCtrl.feature.properties.quicklook}}" title="{{featCtrl.feature.id}}"/>
        </div>
    </div>
    <div id="rightColumn" class="small-12 medium-12 large-6 columns">
        
        
        <!-- Keywords -->
        <div style="padding-bottom:20px;" class="fullWidth padded-top">
            <!-- Keywords -->
            <div class="padded bglight row feature-keywords">
                <div class="medium-6 columns">
                    <h5><span class="fa fa-flag"></span>&nbsp;{{'feature.keywords' | translate}}</h5>
                    <div class="padded-left">
                        <span ng-repeat="(keyword, value) in featCtrl.keywords.location">
                            <a ng-click="mainController.search('q', keyword)" class="keyword">
                                {{keyword}}</a><br/></span>
                        <span ng-repeat="(keyword, value) in featCtrl.keywords.season">
                            <a ng-click="mainController.search('q', keyword)" class="keyword">{{keyword}}</a><br/></span>
                    </div>
                </div>
                <div class="medium-6 columns">
                    <h5><span class="fa fa-globe"></span>&nbsp;{{'feature.location' | translate}}</h5>
                    <div class="padded-left">
                        <div ng-repeat="(continent, continentValue) in featCtrl.keywords.continent">
                            <a ng-click="mainController.search('q', quote(continent))" class="keyword">{{continent}}</a>
                            <div ng-repeat="(country, countryValue) in continentValue.children" class="padded-left">
                                <a ng-click="mainController.search('q', quote(country))" class="keyword">{{country}}</a>
                                <div ng-repeat="(region, regionValue) in countryValue.children" class="padded-left">
                                    <a ng-click="mainController.search('q', quote(region))" class="keyword" ng-if="region !== '_all'">{{region}}</a>
                                    <div ng-repeat="(state, stateValue) in regionValue.children" class="padded-left">
                                        <a ng-click="mainController.search('q', quote(state))" class="keyword">{{state}}</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Landuse -->
            <div class="row feature-keywords center margin-top-20">
                <div class="small-12 columns bgmiddle padded">
                    <h5><span class="fa fa-tree"></span>&nbsp;{{'feature.landuse' | translate}}</h5>
                    <div class="padded-left">
                        <span ng-repeat="(landuse, value) in featCtrl.keywords.landuse" class="padded-left padded-right">
                            <span class="unbreakable"><a ng-click="mainController.search('q', landuse)" class="keyword">{{landuse}}</a>
                                {{value.value}}%</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Properties -->
        <div class="row padded margin-top-10 margin-bottom-20 bglight tableContainer">
            <h5 ng-bind="'properties' | translate"></h5> 

            <table class="niceTable">
                    <tbody>
                        <tr ng-repeat="(name,property) in featCtrl.feature.properties"
                            ng-if="featCtrl.showProperty(property) && name !== 'thumbnail' && name !== 'quicklook'">
                            <td ng-bind="'{{ name | translate }}'"> </td>
                            <td>{{ property }} </td>
                        </tr>
                    </tbody>
                </table>
        </div>
    </div>
    
</div>
